# Calculate Slew

A simple way to calculate the slew time for an arbitrary VLBI (AZ/EL) antenna.


## Requirements

 - A folder named ``skds``, containing schedule summaries for each session.
   These files sholud be named ``<session>.azel`` (e.g. r1727.azel). The
   creation of these files are explained in section ``Generate .azel``.
 - A folder named ``logs``, containing folders for each session, corresponding
   to the .azel-files. Each of the folder holds the log files for that
   particular session. (E.g logs/r1727/r1727ft.log)
 - That trakl or flagr is turned on for the antenna.

The folders ``skds`` and ``logs`` are currently present in this folder and are
populated with data for 5 sessions.

## Run the program

``./calculate_slew.sh``, runs the program and the output is stored in
``data/``. If one wishes to generate graphs to get a visual representation of
the calculated models the flag ``--graph`` can be used as:
``./calculate_slew.sh --graph``. These graphs are stored in ``img/``.

## Output from the program

If run without the ``--graph`` flag, the program stores two ``.dat``-files for
each antenna. The files are named ``<station>_az.dat`` and ``<station>_el.dat``
depending on if azimuth or elevation is calculated. ``data/`` also contains the
file ``lsq_result.dat`` which holds the desired least square solution for each
antenna, i.e. the antenna speed and offset.

If the program is run *with* the ``--graph`` flag, all of the above is true,
but the program also stores graphs showing the solution for each antenna - both
in azimuth and elevation. These graphs are stored in ``img/``.

## Generate .azel

The ``.azel``-files are generated by the following commands:

``$> sked <session>.skd``
``sked> xl wrap``
``sked> unit <session>.azel``
``sked> li ^-*``
``sked> q``

Unfortunately, this has to be done manually at the time. Maybe Mr. Gipson can
shed more light on the matter of automatizing this.

